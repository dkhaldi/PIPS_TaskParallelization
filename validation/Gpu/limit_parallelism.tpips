setenv WKS limit_parallelism
delete $WKS

setproperty ABORT_ON_USER_ERROR TRUE

create $WKS $WKS.c

setproperty FOR_TO_DO_LOOP_IN_CONTROLIZER TRUE

activate MUST_REGIONS
activate TRANSFORMERS_INTER_FULL
activate INTERPROCEDURAL_SUMMARY_PRECONDITION
activate PRECONDITIONS_INTER_FULL

apply PRIVATIZE_MODULE

apply COARSE_GRAIN_PARALLELIZATION

display PRINTED_FILE[%ALLFUNC]

apply LIMIT_NESTED_PARALLELISM
display PRINTED_FILE

setproperty NESTED_PARALLELISM_THRESHOLD 4
apply LIMIT_NESTED_PARALLELISM
display PRINTED_FILE

setproperty NESTED_PARALLELISM_THRESHOLD 3
apply LIMIT_NESTED_PARALLELISM
display PRINTED_FILE

setproperty NESTED_PARALLELISM_THRESHOLD 2
apply LIMIT_NESTED_PARALLELISM
display PRINTED_FILE

setproperty NESTED_PARALLELISM_THRESHOLD 1
apply LIMIT_NESTED_PARALLELISM
display PRINTED_FILE

close
delete $WKS
quit
