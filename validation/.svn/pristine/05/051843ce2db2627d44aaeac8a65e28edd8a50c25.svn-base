
Code generated by PIPS with transformers for FOO (option HRC)


C  T(I,SET_I_PIPS_RETURN_CODE_:IRC_SHARED)
C    {I+SET_I_PIPS_RETURN_CODE_:IRC_SHARED==I#init+1,
C    0<=SET_I_PIPS_RETURN_CODE_:IRC_SHARED,
C    SET_I_PIPS_RETURN_CODE_:IRC_SHARED<=1}


      SUBROUTINE FOO(*, I)

C  T() {}

      PRINT *, "foo is entered with ", I                                0003

C  T() {}

      IF (I.GT.0) GOTO 99999                                            0004

C  T(I) {I==I#init+1}

      I = I+1                                                           0008

C  T(SET_I_PIPS_RETURN_CODE_:IRC_SHARED)
C    {SET_I_PIPS_RETURN_CODE_:IRC_SHARED==0}

      CALL SET_I_PIPS_RETURN_CODE_(0)                                   0009
      RETURN
99999 CONTINUE

C  T() {}

      PRINT *, 'RETURN 1 in FOO'                                        0005

C  T(SET_I_PIPS_RETURN_CODE_:IRC_SHARED)
C    {SET_I_PIPS_RETURN_CODE_:IRC_SHARED==1}

      CALL SET_I_PIPS_RETURN_CODE_(1)                                   0006
      END

# Code generated by PIPS with preconditions for ALTRET01 (option HRC)


C  P() {}

      PROGRAM ALTRET01

C  P() {}


C     Check link-edit issues

      I = 0                                                             0005

C  P(I) {I==0}


      CALL FOO(*123, I)                                                 0007

C  P(I,SET_I_PIPS_RETURN_CODE_:IRC_SHARED)
C    {I+SET_I_PIPS_RETURN_CODE_:IRC_SHARED==1, 0<=I, I<=1}

      CALL GET_I_PIPS_RETURN_CODE_(I_PIPS_RETURN_CODE_)                 0007

C  P(I,I_PIPS_RETURN_CODE_,SET_I_PIPS_RETURN_CODE_:IRC_SHARED)
C    {I+I_PIPS_RETURN_CODE_==1,
C    I+SET_I_PIPS_RETURN_CODE_:IRC_SHARED==1, 0<=I, I<=1}

      IF (I_PIPS_RETURN_CODE_.EQ.1) GOTO 123                            0007

C  P(I,I_PIPS_RETURN_CODE_,SET_I_PIPS_RETURN_CODE_:IRC_SHARED) {I==1,
C    I_PIPS_RETURN_CODE_==0, SET_I_PIPS_RETURN_CODE_:IRC_SHARED==0}

      PRINT *, "First standard return from foo"                         0008

C  P(I,I_PIPS_RETURN_CODE_,SET_I_PIPS_RETURN_CODE_:IRC_SHARED) {I==1,
C    I_PIPS_RETURN_CODE_==0, SET_I_PIPS_RETURN_CODE_:IRC_SHARED==0}


      CALL FOO(*123, I)                                                 0010

C  P(I,I_PIPS_RETURN_CODE_,SET_I_PIPS_RETURN_CODE_:IRC_SHARED)
C    {I+SET_I_PIPS_RETURN_CODE_:IRC_SHARED==2, I_PIPS_RETURN_CODE_==0,
C    1<=I, I<=2}

      CALL GET_I_PIPS_RETURN_CODE_(I_PIPS_RETURN_CODE_)                 0010

C  P(I,I_PIPS_RETURN_CODE_,SET_I_PIPS_RETURN_CODE_:IRC_SHARED)
C    {I+I_PIPS_RETURN_CODE_==2,
C    I+SET_I_PIPS_RETURN_CODE_:IRC_SHARED==2, 1<=I, I<=2}

      IF (I_PIPS_RETURN_CODE_.EQ.1) GOTO 123                            0010

C  P(I,I_PIPS_RETURN_CODE_,SET_I_PIPS_RETURN_CODE_:IRC_SHARED) {I==2,
C    I_PIPS_RETURN_CODE_==0, SET_I_PIPS_RETURN_CODE_:IRC_SHARED==0}

C     This should not happen!
      PRINT *, "Second standard return from foo"                        0012

C  P(I,I_PIPS_RETURN_CODE_,SET_I_PIPS_RETURN_CODE_:IRC_SHARED) {I==2,
C    I_PIPS_RETURN_CODE_==0, SET_I_PIPS_RETURN_CODE_:IRC_SHARED==0}


      PRINT *, 'STOP 0 in ALTRET01'                                     0014

C  P(I,I_PIPS_RETURN_CODE_,SET_I_PIPS_RETURN_CODE_:IRC_SHARED) {I==2,
C    I_PIPS_RETURN_CODE_==0, SET_I_PIPS_RETURN_CODE_:IRC_SHARED==0}

      STOP 0                                                            0015

C  P(I,I_PIPS_RETURN_CODE_,SET_I_PIPS_RETURN_CODE_:IRC_SHARED)
C    {I_PIPS_RETURN_CODE_==1, SET_I_PIPS_RETURN_CODE_:IRC_SHARED==1,
C    0<=I, I<=1}


123   CONTINUE                                                          0017

C  P(I,I_PIPS_RETURN_CODE_,SET_I_PIPS_RETURN_CODE_:IRC_SHARED)
C    {I_PIPS_RETURN_CODE_==1, SET_I_PIPS_RETURN_CODE_:IRC_SHARED==1,
C    0<=I, I<=1}

      PRINT *, 'STOP 1 in ALTRET01'                                     0018

C  P(I,I_PIPS_RETURN_CODE_,SET_I_PIPS_RETURN_CODE_:IRC_SHARED)
C    {I_PIPS_RETURN_CODE_==1, SET_I_PIPS_RETURN_CODE_:IRC_SHARED==1,
C    0<=I, I<=1}

      STOP '1 in ALTRET01'                                              0019

      END

# Unsplit version

!!
!! file for altret01.f
!!

C  P() {}

      PROGRAM ALTRET01

C  P() {}


C     Check link-edit issues

      I = 0                                                             0005

C  P(I) {I==0}


      CALL FOO(*123, I)                                                 0007

C  P(I,SET_I_PIPS_RETURN_CODE_:IRC_SHARED)
C    {I+SET_I_PIPS_RETURN_CODE_:IRC_SHARED==1, 0<=I, I<=1}

      CALL GET_I_PIPS_RETURN_CODE_(I_PIPS_RETURN_CODE_)                 0007

C  P(I,I_PIPS_RETURN_CODE_,SET_I_PIPS_RETURN_CODE_:IRC_SHARED)
C    {I+I_PIPS_RETURN_CODE_==1,
C    I+SET_I_PIPS_RETURN_CODE_:IRC_SHARED==1, 0<=I, I<=1}

      IF (I_PIPS_RETURN_CODE_.EQ.1) GOTO 123                            0007

C  P(I,I_PIPS_RETURN_CODE_,SET_I_PIPS_RETURN_CODE_:IRC_SHARED) {I==1,
C    I_PIPS_RETURN_CODE_==0, SET_I_PIPS_RETURN_CODE_:IRC_SHARED==0}

      PRINT *, "First standard return from foo"                         0008

C  P(I,I_PIPS_RETURN_CODE_,SET_I_PIPS_RETURN_CODE_:IRC_SHARED) {I==1,
C    I_PIPS_RETURN_CODE_==0, SET_I_PIPS_RETURN_CODE_:IRC_SHARED==0}


      CALL FOO(*123, I)                                                 0010

C  P(I,I_PIPS_RETURN_CODE_,SET_I_PIPS_RETURN_CODE_:IRC_SHARED)
C    {I+SET_I_PIPS_RETURN_CODE_:IRC_SHARED==2, I_PIPS_RETURN_CODE_==0,
C    1<=I, I<=2}

      CALL GET_I_PIPS_RETURN_CODE_(I_PIPS_RETURN_CODE_)                 0010

C  P(I,I_PIPS_RETURN_CODE_,SET_I_PIPS_RETURN_CODE_:IRC_SHARED)
C    {I+I_PIPS_RETURN_CODE_==2,
C    I+SET_I_PIPS_RETURN_CODE_:IRC_SHARED==2, 1<=I, I<=2}

      IF (I_PIPS_RETURN_CODE_.EQ.1) GOTO 123                            0010

C  P(I,I_PIPS_RETURN_CODE_,SET_I_PIPS_RETURN_CODE_:IRC_SHARED) {I==2,
C    I_PIPS_RETURN_CODE_==0, SET_I_PIPS_RETURN_CODE_:IRC_SHARED==0}

C     This should not happen!
      PRINT *, "Second standard return from foo"                        0012

C  P(I,I_PIPS_RETURN_CODE_,SET_I_PIPS_RETURN_CODE_:IRC_SHARED) {I==2,
C    I_PIPS_RETURN_CODE_==0, SET_I_PIPS_RETURN_CODE_:IRC_SHARED==0}


      PRINT *, 'STOP 0 in ALTRET01'                                     0014

C  P(I,I_PIPS_RETURN_CODE_,SET_I_PIPS_RETURN_CODE_:IRC_SHARED) {I==2,
C    I_PIPS_RETURN_CODE_==0, SET_I_PIPS_RETURN_CODE_:IRC_SHARED==0}

      STOP 0                                                            0015

C  P(I,I_PIPS_RETURN_CODE_,SET_I_PIPS_RETURN_CODE_:IRC_SHARED)
C    {I_PIPS_RETURN_CODE_==1, SET_I_PIPS_RETURN_CODE_:IRC_SHARED==1,
C    0<=I, I<=1}


123   CONTINUE                                                          0017

C  P(I,I_PIPS_RETURN_CODE_,SET_I_PIPS_RETURN_CODE_:IRC_SHARED)
C    {I_PIPS_RETURN_CODE_==1, SET_I_PIPS_RETURN_CODE_:IRC_SHARED==1,
C    0<=I, I<=1}

      PRINT *, 'STOP 1 in ALTRET01'                                     0018

C  P(I,I_PIPS_RETURN_CODE_,SET_I_PIPS_RETURN_CODE_:IRC_SHARED)
C    {I_PIPS_RETURN_CODE_==1, SET_I_PIPS_RETURN_CODE_:IRC_SHARED==1,
C    0<=I, I<=1}

      STOP '1 in ALTRET01'                                              0019

      END

C  P() {0<=I, I<=1}


      SUBROUTINE FOO(*, I)

C  P() {0<=I, I<=1}

      PRINT *, "foo is entered with ", I                                0003

C  P() {0<=I, I<=1}

      IF (I.GT.0) GOTO 99999                                            0004

C  P() {I==0}

      I = I+1                                                           0008

C  P(I) {I==1, I#init==0}

      CALL SET_I_PIPS_RETURN_CODE_(0)                                   0009
      RETURN
99999 CONTINUE

C  P() {I==1}

      PRINT *, 'RETURN 1 in FOO'                                        0005

C  P() {I==1}

      CALL SET_I_PIPS_RETURN_CODE_(1)                                   0006
      END

C  P() {0<=IRC, IRC<=1}


      SUBROUTINE SET_I_PIPS_RETURN_CODE_(IRC)
      COMMON /PIPS_RETURN_CODE_COMMON/IRC_SHARED

C  P() {0<=IRC, IRC<=1}

      IRC_SHARED = IRC                                                  0004
      END

C  P() {0<=IRC_SHARED, IRC_SHARED<=1}


      SUBROUTINE GET_I_PIPS_RETURN_CODE_(IRC)
      COMMON /PIPS_RETURN_CODE_COMMON/IRC_SHARED

C  P() {0<=IRC_SHARED, IRC_SHARED<=1}

      IRC = IRC_SHARED                                                  0004
      END

# Compile and Compare

#
# compile run compare both altret01
#

# Code generated by PIPS with transformers for FOO (option STOP)


C  T(I) {I==I#init+1, I<=1}


      SUBROUTINE FOO(*, I)

C  T() {}

      PRINT *, "foo is entered with ", I                                0003

C  T() {I<=0}

      IF (I.GT.0) THEN                                                  0004

C  T() {}

         PRINT *, 'RETURN 1 in FOO'                                     0005

C  T() {0==-1}

         STOP "1 in FOO"                                                0006
      ENDIF

C  T(I) {I==I#init+1}

      I = I+1                                                           0008
      END

# Code generated by PIPS with preconditions for ALTRET01 (option STOP)


C  P() {}

      PROGRAM ALTRET01

C  P() {}


C     Check link-edit issues

      I = 0                                                             0005

C  P(I) {I==0}


      CALL FOO(*123, I)                                                 0007

C  P(I) {I==1}

      PRINT *, "First standard return from foo"                         0008

C  P(I) {I==1}


      CALL FOO(*123, I)                                                 0010

C  P() {0==-1}

C     This should not happen!
      PRINT *, "Second standard return from foo"                        0012

C  P() {0==-1}


      PRINT *, 'STOP 0 in ALTRET01'                                     0014

C  P() {0==-1}

      STOP 0                                                            0015

C  P() {0==-1}


123   CONTINUE                                                          0017

C  P() {0==-1}

      PRINT *, 'STOP 1 in ALTRET01'                                     0018

C  P() {0==-1}

      STOP '1 in ALTRET01'                                              0019

      END

# Whole code generated by PIPS after dead code elimination (option STOP)

!!
!! file for altret01.f
!!

C  P() {}

      PROGRAM ALTRET01

C  P() {}


C     Check link-edit issues

      I = 0                                                             0005

C  P(I) {I==0}


      CALL FOO(*123, I)                                                 0007

C  P(I) {I==1}

      PRINT *, "First standard return from foo"                         0008

C  P(I) {I==1}


      CALL FOO(*123, I)                                                 0010

C  P() {0==-1}

C     This should not happen!


123   CONTINUE                                                          0017

      END

C  P() {0<=I, I<=1}


      SUBROUTINE FOO(*, I)

C  P() {0<=I, I<=1}

      PRINT *, "foo is entered with ", I                                0003

C  P() {0<=I, I<=1}

      IF (I.GT.0) THEN                                                  0004

C  P() {I==1}

         PRINT *, 'RETURN 1 in FOO'                                     0005

C  P() {I==1}

         STOP "1 in FOO"                                                0006
      ENDIF

C  P() {I==0}

      I = I+1                                                           0008
      END

C  P() {0==-1}


      SUBROUTINE SET_I_PIPS_RETURN_CODE_(IRC)
      COMMON /PIPS_RETURN_CODE_COMMON/IRC_SHARED
      END

C  P() {0==-1}


      SUBROUTINE GET_I_PIPS_RETURN_CODE_(IRC)
      COMMON /PIPS_RETURN_CODE_COMMON/IRC_SHARED
      END

# Execute code generated by PIPS

#
# compile run compare both altret01
#
