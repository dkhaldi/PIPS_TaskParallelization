/*
** ************************************************
** This file has been generated using
**      Scilab2C (Version 2.0)
**
** Please visit following links for more informations:
** Atoms Module: http://atoms.scilab.org/toolboxes/scilab2c
** Scilab2C Forge: http://forge.scilab.org/index.php/p/scilab2c/
** Scilab2C ML: http://forge.scilab.org/index.php/p/scilab2c/
** ************************************************
*/
 
 
/*
** ----------------- 
** --- Includes. --- 
** ----------------- 
*/
#include "main.h"
#include "time.h"
/*
** --------------------- 
** --- End Includes. --- 
** --------------------- 
*/
 
 
 
/*
** -------------------------------------
** --- Global Variables Declaration. ---
** -------------------------------------
*/
 
 
/*
** -----------------------------------------
** --- End Global Variables Declaration. ---
** -----------------------------------------
*/
 
/*
  SCI2C: ------------------------------------------------------------------
  SCI2C: //SCI2C: DEFAULT_PRECISION= DOUBLE
  SCI2C: 
  SCI2C: function mainfunction()
  SCI2C: ------------------------------------------------------------------
*/
int main()
{
clock_t start=clock();

/*
** -----------------------------
** --- Variable Declaration. ---
** -----------------------------
*/
 
   float nmax = 300;
 
   float xmin = 0.2675;
 
   float xmax = 0.2685;
 
   float ymin = 0.591;
 
   float ymax = 0.592;
 
   
 
   
 
   float __temp1;
 
   float __temp2;
 
   float xstep;
 
   float __temp3;
 
   float __temp4;
 
   float ystep;
 
   float (*res)[xsize][ysize] = NULL;
   int __resSize[2];
 
   float __temp5[1 * 100];
   int ____temp5Size[2] = {1, 100};
 
   float __temp6[1 * 100];
   int ____temp6Size[2] = {1, 100};
 
   float __temp7[100 * 100];
   int ____temp7Size[2] = {100, 100};
 
   float ans1;
 
 
 
 
/*
** ---------------------------------
** --- End Variable Declaration. ---
** ---------------------------------
*/
/*
** ---------------
** --- C code. ---
** ---------------
*/
 
   /*SCI2C: ##################################################################
     SCI2C: 
     SCI2C: ##################################################################*/
 
   /*SCI2C: ##################################################################
     SCI2C: nmax = 300;
     SCI2C: ##################################################################*/
   nmax = d0OpEquald0(300);
 
   /*SCI2C: ##################################################################
     SCI2C: xmin = 0.2675;
     SCI2C: ##################################################################*/
   xmin = d0OpEquald0(0.2675);
 
   /*SCI2C: ##################################################################
     SCI2C: xmax = 0.2685;
     SCI2C: ##################################################################*/
   xmax = d0OpEquald0(0.2685);
 
   /*SCI2C: ##################################################################
     SCI2C: ymin = 0.591;
     SCI2C: ##################################################################*/
   ymin = d0OpEquald0(0.591);
 
   /*SCI2C: ##################################################################
     SCI2C: ymax = 0.592;
     SCI2C: ##################################################################*/
   ymax = d0OpEquald0(0.592);
 
   /*SCI2C: ##################################################################
     SCI2C: xsize = 100;
     SCI2C: ##################################################################*/
   
 
   /*SCI2C: ##################################################################
     SCI2C: ysize = 100;
     SCI2C: ##################################################################*/
   
 
   /*SCI2C: ##################################################################
     SCI2C: 
     SCI2C: ##################################################################*/
 
   /*SCI2C: ##################################################################
     SCI2C: xstep=(xmax-xmin)./(xsize-1);
     SCI2C: ##################################################################*/
   __temp1 = d0d0OpMinusd0(xmax,xmin);
   __temp2 = d0d0OpMinusd0(xsize,1);
   xstep = d0d0OpDotSlashd0(__temp1,__temp2);
 
   /*SCI2C: ##################################################################
     SCI2C: 
     SCI2C: ##################################################################*/
 
   /*SCI2C: ##################################################################
     SCI2C: ystep=(ymax-ymin)./(ysize-1);
     SCI2C: ##################################################################*/
   __temp3 = d0d0OpMinusd0(ymax,ymin);
   __temp4 = d0d0OpMinusd0(ysize,1);
   ystep = d0d0OpDotSlashd0(__temp3,__temp4);
 
   /*SCI2C: ##################################################################
     SCI2C: 
     SCI2C: ##################################################################*/
 
   /*SCI2C: ##################################################################
     SCI2C: res = mandelbrot(xmin, xstep, xsize, ymin, ystep, ysize, nmax);
     SCI2C: ##################################################################*/
   __resSize[0]=xsize;
   __resSize[1]=ysize;
   res = (float (*)[xsize][ysize]) realloc(res,(xsize)*(ysize)*sizeof(float));
   d0d0d0d0d0d0d0mandelbrotd2(xmin,xstep,xsize,ymin,ystep,ysize,nmax,*res);
 
   /*SCI2C: ##################################################################
     SCI2C: 
     SCI2C: ##################################################################*/
 
   /*SCI2C: ##################################################################
     SCI2C: disp(res(1:xsize,1:ysize));
     SCI2C: ##################################################################*/
   d0d0OpColond2(1,xsize,__temp5);
   d0d0OpColond2(1,ysize,__temp6);
   d2d2d2OpExtd2(*res,  __resSize,__temp5,  ____temp5Size,__temp6,  ____temp6Size,__temp7);
   ans1 = d2dispd0(__temp7,  ____temp7Size);
 
   /*SCI2C: ##################################################################
     SCI2C: 
     SCI2C: ##################################################################*/
 
   /*SCI2C: ##################################################################
     SCI2C: endfunction
     SCI2C: ##################################################################*/
 
   /*SCI2C: ##################################################################
     SCI2C: 
     SCI2C: ##################################################################*/
 
   /*
   ** --------------------- 
   ** --- Free Section. --- 
   ** --------------------- 
   */
   free(*res);
   /*
   ** ------------------------- 
   ** --- End Free Section. --- 
   ** ------------------------- 
   */
 
   printf("Time elapsed: %f\n", ((float)clock() -start)/CLOCKS_PER_SEC);
return(0);

 
   /*SCI2C: ##################################################################
     SCI2C: 
     SCI2C: ##################################################################*/
}
 
