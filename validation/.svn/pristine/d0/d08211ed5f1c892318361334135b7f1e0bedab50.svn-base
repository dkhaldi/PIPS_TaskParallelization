
* le test de la mort !
sub microcode
      im,im7=FIFO2      ||                        ||                        ||                        ||                        
      im,im5=FIFO1      ||                        ||                        ||                        ||                        
      im,im3=FIFO0      ||                        ||                        ||                        ||                        
                        ||                        ||       P,re(30)=1       ||                        ||                        
                        ||                        ||                        ||         do_N1          ||                        
                        ||                        ||      P,re(21)=512      ||                        ||                        
                        ||                        || P,re(21)=re(21)*re(30) ||                        ||                        
                        ||                        ||      P,re(0)=512       ||                        ||                        
                        ||                        ||  P,re(0)=re(0)*re(30)  ||                        ||                        
                        ||                        ||       P,re(31)=1       ||                        ||                        
                        ||                        ||                        ||         do_N0          ||                        
                        ||                        ||       P,re(23)=0       ||                        ||                        
                        ||                        ||    P,re(22)=re(31)     ||                        ||                        
                        ||                        || P,re(22)=re(22)+re(21) ||                        ||                        
                        ||                        ||    P,re(19)=re(23)     ||                        ||                        
     im=im3+re(22)      ||                        ||                        ||                        ||                        
                        ||                        ||   P,re(19)=re(19)+im   ||                        ||                        
                        ||                        ||    P,re(23)=re(19)     ||                        ||                        
        im=im5+0        ||                        ||                        ||                        ||                        
                        ||                        ||      P,re(23)+im       ||                        ||                        
                        ||                        ||    P,re(18)=re(22)     ||                        ||                        
                        ||                        ||   P,re(18)=re(18)+1    ||                        ||                        
                        ||                        ||    P,re(17)=re(23)     ||                        ||                        
     im=im3+re(18)      ||                        ||                        ||                        ||                        
                        ||                        ||   P,re(17)=re(17)+im   ||                        ||                        
                        ||                        ||    P,re(23)=re(17)     ||                        ||                        
        im=im5+1        ||                        ||                        ||                        ||                        
                        ||                        ||      P,re(23)+im       ||                        ||                        
                        ||                        ||    P,re(16)=re(22)     ||                        ||                        
                        ||                        ||   P,re(16)=re(16)+2    ||                        ||                        
                        ||                        ||    P,re(15)=re(23)     ||                        ||                        
     im=im3+re(16)      ||                        ||                        ||                        ||                        
                        ||                        ||   P,re(15)=re(15)+im   ||                        ||                        
                        ||                        ||    P,re(23)=re(15)     ||                        ||                        
        im=im5+2        ||                        ||                        ||                        ||                        
                        ||                        ||      P,re(23)+im       ||                        ||                        
                        ||                        ||       P,re(33)=3       ||                        ||                        
                        ||                        ||    P,re(14)=re(22)     ||                        ||                        
                        ||                        ||  P,re(14)=re(14)+512   ||                        ||                        
                        ||                        ||    P,re(13)=re(23)     ||                        ||                        
     im=im3+re(14)      ||                        ||                        ||                        ||                        
                        ||                        ||   P,re(13)=re(13)+im   ||                        ||                        
                        ||                        ||    P,re(23)=re(13)     ||                        ||                        
        im=im5+3        ||                        ||                        ||                        ||                        
                        ||                        ||      P,re(23)+im       ||                        ||                        
                        ||                        ||    P,re(12)=re(22)     ||                        ||                        
                        ||                        ||  P,re(12)=re(12)+513   ||                        ||                        
                        ||                        ||    P,re(11)=re(23)     ||                        ||                        
     im=im3+re(12)      ||                        ||                        ||                        ||                        
                        ||                        ||   P,re(11)=re(11)+im   ||                        ||                        
                        ||                        ||    P,re(23)=re(11)     ||                        ||                        
        im=im5+4        ||                        ||                        ||                        ||                        
                        ||                        ||      P,re(23)+im       ||                        ||                        
                        ||                        ||    P,re(10)=re(22)     ||                        ||                        
                        ||                        ||  P,re(10)=re(10)+514   ||                        ||                        
                        ||                        ||     P,re(9)=re(23)     ||                        ||                        
     im=im3+re(10)      ||                        ||                        ||                        ||                        
                        ||                        ||    P,re(9)=re(9)+im    ||                        ||                        
                        ||                        ||     P,re(23)=re(9)     ||                        ||                        
        im=im5+5        ||                        ||                        ||                        ||                        
                        ||                        ||      P,re(23)+im       ||                        ||                        
                        ||                        ||       P,re(33)=3       ||                        ||                        
                        ||                        ||     P,re(8)=re(22)     ||                        ||                        
                        ||                        ||   P,re(8)=re(8)+1024   ||                        ||                        
                        ||                        ||     P,re(7)=re(23)     ||                        ||                        
      im=im3+re(8)      ||                        ||                        ||                        ||                        
                        ||                        ||    P,re(7)=re(7)+im    ||                        ||                        
                        ||                        ||     P,re(23)=re(7)     ||                        ||                        
        im=im5+6        ||                        ||                        ||                        ||                        
                        ||                        ||      P,re(23)+im       ||                        ||                        
                        ||                        ||     P,re(6)=re(22)     ||                        ||                        
                        ||                        ||   P,re(6)=re(6)+1025   ||                        ||                        
                        ||                        ||     P,re(5)=re(23)     ||                        ||                        
      im=im3+re(6)      ||                        ||                        ||                        ||                        
                        ||                        ||    P,re(5)=re(5)+im    ||                        ||                        
                        ||                        ||     P,re(23)=re(5)     ||                        ||                        
        im=im5+7        ||                        ||                        ||                        ||                        
                        ||                        ||      P,re(23)+im       ||                        ||                        
                        ||                        ||     P,re(4)=re(22)     ||                        ||                        
                        ||                        ||   P,re(4)=re(4)+1026   ||                        ||                        
                        ||                        ||     P,re(3)=re(23)     ||                        ||                        
      im=im3+re(4)      ||                        ||                        ||                        ||                        
                        ||                        ||    P,re(3)=re(3)+im    ||                        ||                        
                        ||                        ||     P,re(23)=re(3)     ||                        ||                        
        im=im5+8        ||                        ||                        ||                        ||                        
                        ||                        ||      P,re(23)+im       ||                        ||                        
                        ||                        ||       P,re(33)=3       ||                        ||                        
                        ||                        ||       P,re(32)=3       ||                        ||                        
                        ||                        ||   P,re(23)=re(23)/9    ||                        ||                        
                        ||                        ||     P,re(2)=re(0)      ||                        ||                        
                        ||                        ||     P,re(1)=re(31)     ||                        ||                        
                        ||                        ||  P,re(1)=re(1)+re(2)   ||                        ||                        
      im=im7+re(1)      ||                        ||                        ||                        ||                        
      im=re(re23)       ||                        ||                        ||                        ||                        
                        ||                        ||       P,re(31)=1       ||                        ||                        
                        ||                        ||                        ||          loop          ||                        
                        ||                        ||       P,re(30)=1       ||                        ||                        
                        ||                        ||                        ||          loop          ||                        
endsub
